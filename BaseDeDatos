CREATE DATABASE IF NOT EXIST db_dndespañol;
USE db_dndespañol;

CREATE TABLE clase (
    id_clase int(11) NOT NULL AUTO_INCREMENT,
    nombre varchar(45) DEFAULT NULL,
    pv_por_nivel varchar(45) DEFAULT NULL,
	tiradas_de_salvacion varchar(45) DEFAULT NULL,
    talentos varchar(45) DEFAULT NULL,
    PRIMARY KEY(id_clase)
)

CREATE TABLE subclase (
    id_subclase int(11) NOT NULL AUTO_INCREMENT,
    id_clase int(11) DEFAULT NULL,
    nombre varchar(45) DEFAULT NULL,
    sintesis varchar(1000) DEFAULT NULL,
    PRIMARY KEY(id_subclase),
    FOREIGN KEY(id_clase) REFERENCES clase(id_clase)
)

CREATE TABLE habilidades (
    id_habilidad int(11) NOT NULL AUTO_INCREMENT,
    nombre varchar(45) DEFAULT NULL,
    sintesis varchar(1000) DEFAULT NULL,
    PRIMARY KEY(id_habilidad)
)

CREATE TABLE razas (
    id_raza int(11) NOT NULL AUTO_INCREMENT,
    nombre varchar(45) DEFAULT NULL,	
    sintesis varchar(1000) DEFAULT NULL,
    estadisticas_amplificadas varchar(70) DEFAULT NULL,
    edad int(11) DEFAULT NULL,
    orientacion varchar(60) DEFAULT NULL,
    tamaño varchar(45) DEFAULT NULL,
    velocidad int(11)DEFAULT NULL,
    lenguajes varchar(45)DEFAULT NULL,
    PRIMARY KEY(id_raza)
)

CREATE TABLE hechizos (
    id_hechizo int(11) NOT NULL AUTO_INCREMENT,
    nombre varchar(45) DEFAULT NULL,	
    sintesis varchar(1000) DEFAULT NULL,
    nivel int(11) DEFAULT NULL,
    #observacion: en DEFAULT queda como cantrip, por ahora es un problema.
    escuela varchar(60) DEFAULT NULL, 
    tiempo_de_conjuracion int(11) DEFAULT NULL,
    rango int(11) DEFAULT NULL,
    duracion varchar(45)DEFAULT NULL,
    PRIMARY KEY(id_hechizo)
)

CREATE TABLE armas (
    id_arma int(11) NOT NULL AUTO_INCREMENT,
    nombre varchar(45) DEFAULT NULL,	
    sintesis varchar(200) DEFAULT NULL,
    daño varchar(45) DEFAULT NULL,
    tipo_de_daño varchar(45) DEFAULT NULL, 
    peso int(11) DEFAULT NULL,
    propiedades varchar(45) DEFAULT NULL,
    tipo_de_arma varchar(45)DEFAULT NULL,
    PRIMARY KEY(id_arma)
)

CREATE TABLE armaduras (
    id_armadura int(11) NOT NULL AUTO_INCREMENT,
    nombre varchar(45) DEFAULT NULL,	
    sintesis varchar(200) DEFAULT NULL,
    proteccion varchar(45) DEFAULT NULL,
    fuerza_necesaria varchar(45) DEFAULT NULL, 
    desventaja_en_sigilo varchar(3) DEFAULT NULL,
    peso int(11)DEFAULT NULL,
    PRIMARY KEY(id_armadura)
)

CREATE TABLE equipamientos_iniciales (
    id_equipamiento int(11) NOT NULL AUTO_INCREMENT,
    arma_principal varchar(60) DEFAULT NULL,	
    arma_secundaria varchar(60) DEFAULT NULL,
    arma_terciaria varchar(60) DEFAULT NULL,
    consumible varchar(45) DEFAULT NULL, 
    mochila varchar(45) DEFAULT NULL,
    armadura varchar(45)DEFAULT NULL,
    PRIMARY KEY(id_equipamiento)
)

________________________________________________________________________________________________________________________ RELACIONES


CREATE TABLE habilidades_conocidas_clase (
    id_habilidades_conocidas_clase int(11) NOT NULL AUTO_INCREMENT,
    id_habilidad int(11) DEFAULT NULL,	
    id_clase int(11) DEFAULT NULL,
    PRIMARY KEY(id_habilidades_conocidas_clase),
    FOREIGN KEY(id_habilidad) REFERENCES habilidades(id_habilidad),
    FOREIGN KEY(id_clase) REFERENCES clase(id_clase)
)

CREATE TABLE habilidades_conocidas_sub (
    id_habilidades_conocidas_sub int(11) NOT NULL AUTO_INCREMENT,
    id_habilidad int(11) DEFAULT NULL,	
    id_subclase int(11) DEFAULT NULL,
    PRIMARY KEY(id_habilidades_conocidas_sub),
    FOREIGN KEY(id_habilidad) REFERENCES habilidades(id_habilidad),
    FOREIGN KEY(id_subclase) REFERENCES subclase(id_subclase)
)

CREATE TABLE habilidades_conocidas_raza (
    id_habilidades_conocidas_raza int(11) NOT NULL AUTO_INCREMENT,
    id_habilidad int(11) DEFAULT NULL,	
    id_raza int(11) DEFAULT NULL,
    PRIMARY KEY(id_habilidades_conocidas_raza),
    FOREIGN KEY(id_habilidad) REFERENCES habilidades(id_habilidad),
    FOREIGN KEY(id_raza) REFERENCES razas(id_raza)
)

CREATE TABLE hechizos_conocidos_clase (
    id_hechizos_conocidos_clase int(11) NOT NULL AUTO_INCREMENT,
    id_hechizo int(11) DEFAULT NULL,	
    id_clase int(11) DEFAULT NULL,
    PRIMARY KEY(id_hechizos_conocidos_clase),
    FOREIGN KEY(id_hechizo) REFERENCES hechizos(id_hechizo),
    FOREIGN KEY(id_clase) REFERENCES clase(id_clase)
)

CREATE TABLE hechizos_conocidos_sub (
    id_hechizos_conocidos_sub int(11) NOT NULL AUTO_INCREMENT,
    id_hechizo int(11) DEFAULT NULL,	
    id_subclase int(11) DEFAULT NULL,
    PRIMARY KEY(id_hechizos_conocidos_sub),
    FOREIGN KEY(id_hechizo) REFERENCES hechizos(id_hechizo),
    FOREIGN KEY(id_subclase) REFERENCES subclase(id_subclase)
)

CREATE TABLE equipar (
    id_equipar int(11) NOT NULL AUTO_INCREMENT,
    id_equipamiento int(11) DEFAULT NULL,	
    id_clase int(11) DEFAULT NULL,
    PRIMARY KEY(id_equipar),
    FOREIGN KEY(id_equipamiento) REFERENCES equipamientos_iniciales(id_equipamiento),
    FOREIGN KEY(id_clase) REFERENCES clase(id_clase)
)

CREATE TABLE proficiencia_de_arma (
    id_proficiencia_de_arma int(11) NOT NULL AUTO_INCREMENT,
    id_arma int(11) DEFAULT NULL,	
    id_clase int(11) DEFAULT NULL,
    PRIMARY KEY(id_proficiencia_de_arma),
    FOREIGN KEY(id_arma) REFERENCES armas (id_arma),
    FOREIGN KEY(id_clase) REFERENCES clase(id_clase)
)

CREATE TABLE proficiencia_de_armadura (
    id_proficiencia_de_armadura int(11) NOT NULL AUTO_INCREMENT,
    id_armadura int(11) DEFAULT NULL,	
    id_clase int(11) DEFAULT NULL,
    PRIMARY KEY(id_proficiencia_de_armadura),
    FOREIGN KEY(id_armadura) REFERENCES armaduras(id_armadura),
    FOREIGN KEY(id_clase) REFERENCES clase(id_clase)
)

__________________________________________________________________________________________________________________________________________ARMAS

INSERT INTO armas VALUES
(1,'Garrote','Un palo corto y pesado usado como arma contundente.','1d4','Contundente',1,'Ligera','Simple cuerpo a cuerpo'),
(2,'Daga','Una hoja corta y equilibrada, útil tanto en combate como para lanzar.','1d4','Perforante',1,'Ligera, arrojadiza (20/60), sutil','Simple cuerpo a cuerpo'),
(3,'Gran garrote','Un garrote largo y pesado usado con ambas manos.','1d8','Contundente',10,'A dos manos','Simple cuerpo a cuerpo'),
(4,'Hacha de mano','Un hacha versátil usada en combate cercano o arrojada.','1d6','Cortante',2,'Ligera, arrojadiza (20/60)','Simple cuerpo a cuerpo'),
(5,'Jabalina','Un arma ligera diseñada para lanzarse a distancia.','1d6','Perforante',2,'Arrojadiza (30/120)','Simple cuerpo a cuerpo'),
(6,'Martillo ligero','Un martillo pequeño equilibrado para lanzar.','1d4','Contundente',2,'Ligera, arrojadiza (20/60)','Simple cuerpo a cuerpo'),
(7,'Maza','Un arma de impacto con cabeza pesada.','1d6','Contundente',4,'—','Simple cuerpo a cuerpo'),
(8,'Bastón','Un palo largo usado tanto como apoyo como para combatir.','1d6','Contundente',4,'Versátil (1d8)','Simple cuerpo a cuerpo'),
(9,'Hoz','Una hoja curva usada para cortar.','1d4','Cortante',2,'Ligera','Simple cuerpo a cuerpo'),
(10,'Lanza','Un arma de asta corta, apta para empujar o lanzar.','1d6','Perforante',3,'Arrojadiza (20/60), versátil (1d8)','Simple cuerpo a cuerpo'),
(11,'Ballesta ligera','Una ballesta fácil de usar con pernos.','1d8','Perforante',5,'Munición (80/320), recarga, a dos manos','Simple a distancia'),
(12,'Dardo','Proyectil pequeño y equilibrado para lanzar.','1d4','Perforante',0,'Arrojadiza (20/60), sutil','Simple a distancia'),
(13,'Arco corto','Un arco ligero para disparos rápidos.','1d6','Perforante',2,'Munición (80/320), a dos manos','Simple a distancia'),
(14,'Honda','Una tira de cuero que lanza proyectiles.','1d4','Contundente',0,'Munición (30/120)','Simple a distancia'),
(15,'Hacha de batalla','Un arma pesada de filo utilizada por guerreros.','1d8','Cortante',4,'Versátil (1d10)','Marcial cuerpo a cuerpo'),
(16,'Mangual','Un arma con cabeza articulada para golpear con fuerza.','1d8','Contundente',2,'—','Marcial cuerpo a cuerpo'),
(17,'Guja','Un arma de asta con hoja curva.','1d10','Cortante',6,'Alcance, a dos manos','Marcial cuerpo a cuerpo'),
(18,'Hacha a dos manos','Un hacha masiva diseñada para golpes devastadores.','1d12','Cortante',7,'A dos manos','Marcial cuerpo a cuerpo'),
(19,'Espada a dos manos','Una gran espada usada con ambas manos.','2d6','Cortante',6,'A dos manos','Marcial cuerpo a cuerpo'),
(20,'Alabarda','Arma de asta con punta y hoja lateral.','1d10','Cortante',6,'Alcance, a dos manos','Marcial cuerpo a cuerpo'),
(21,'Lanza de caballería','Una lanza larga para combate montado.','1d12','Perforante',6,'Alcance, especial','Marcial cuerpo a cuerpo'),
(22,'Espada larga','Una hoja versátil común entre los guerreros.','1d8','Cortante',3,'Versátil (1d10)','Marcial cuerpo a cuerpo'),
(23,'Maza a dos manos','Un arma contundente extremadamente pesada.','2d6','Contundente',10,'A dos manos','Marcial cuerpo a cuerpo'),
(24,'Mangual pesado','Un arma con cadena y bola de pinchos.','1d8','Perforante',4,'—','Marcial cuerpo a cuerpo'),
(25,'Pica','Arma de asta larga usada para detener cargas.','1d10','Perforante',18,'Alcance, a dos manos','Marcial cuerpo a cuerpo'),
(26,'Estoque','Una espada delgada y precisa.','1d8','Perforante',2,'Sutil','Marcial cuerpo a cuerpo'),
(27,'Cimitarra','Una hoja curva rápida y ligera.','1d6','Cortante',3,'Ligera, sutil','Marcial cuerpo a cuerpo'),
(28,'Espada corta','Una espada compacta y ágil.','1d6','Perforante',2,'Ligera, sutil','Marcial cuerpo a cuerpo'),
(29,'Tridente','Un arma con tres puntas para estocar.','1d6','Perforante',4,'Arrojadiza (20/60), versátil (1d8)','Marcial cuerpo a cuerpo'),
(30,'Pico de guerra','Un pico reforzado para perforar armaduras.','1d8','Perforante',2,'—','Marcial cuerpo a cuerpo'),
(31,'Martillo de guerra','Un martillo pesado para aplastar armaduras.','1d8','Contundente',2,'Versátil (1d10)','Marcial cuerpo a cuerpo'),
(32,'Látigo','Un arma flexible para atacar a distancia corta.','1d4','Cortante',3,'Alcance, sutil','Marcial cuerpo a cuerpo'),
(33,'Caña de cerbatana','Un tubo que dispara dardos diminutos.','1','Perforante',1,'Munición (25/100), recarga','Marcial a distancia'),
(34,'Ballesta de mano','Una ballesta compacta fácil de ocultar.','1d6','Perforante',3,'Munición (30/120), recarga, ligera','Marcial a distancia'),
(35,'Ballesta pesada','Una ballesta grande y poderosa.','1d10','Perforante',18,'Munición (100/400), recarga, a dos manos','Marcial a distancia'),
(36,'Arco largo','Un arco alto con gran potencia.','1d8','Perforante',2,'Munición (150/600), a dos manos','Marcial a distancia'),
(37,'Red','Una red para inmovilizar enemigos.','—','—',3,'Especial, arrojadiza (5/15)','Marcial a distancia');

__________________________________________________________________________________________________________________________________________ARMADURAS

INSERT INTO armaduras VALUES
(1, 'Acolchada', 'Armadura blanda de capas acolchadas.', '11 + DEX', 'Ninguna', 'Sí', '4 lb'),
(2, 'Cuero', 'Armadura ligera hecha de cuero endurecido.', '11 + DEX', 'Ninguna', 'No', '10 lb'),
(3, 'Cuero Tachonado', 'Cuero con remaches metálicos para mayor defensa.', '12 + DEX', 'Ninguna', 'No', '13 lb'),
(4, 'Pieles', 'Pieles y cueros toscos usados como armadura.', '12 + DEX (máx +2)', 'Ninguna', 'No', '12 lb'),
(5, 'Cota de Escamas', 'Armadura de placas superpuestas unidas con cuero.', '14 + DEX (máx +2)', 'Ninguna', 'Sí', '45 lb'),
(6, 'Cota de Mallas', 'Cota tejida de anillos metálicos.', '14 + DEX (máx +2)', 'Fuerza 13', 'Sí', '55 lb'),
(7, 'Coraza', 'Placas de metal que protegen el torso.', '14 + DEX (máx +2)', 'Ninguna', 'No', '20 lb'),
(8, 'Semiplacas', 'Placas sólidas que cubren zonas vitales.', '15 + DEX (máx +2)', 'Ninguna', 'Sí', '40 lb'),
(9, 'Anillas', 'Aros metálicos usados como protección básica.', '14', 'Fuerza 13', 'Sí', '40 lb'),
(10, 'Cota de Malla (pesada)', 'Cota de anillos muy cerrados y reforzados.', '16', 'Fuerza 13', 'Sí', '60 lb'),
(11, 'Armadura de Bandas', 'Placas largas de metal unidas con cuero.', '17', 'Fuerza 15', 'Sí', '65 lb'),
(12, 'Placas', 'Armadura pesada completa de placas metálicas.', '18', 'Fuerza 15', 'Sí', '65 lb'),
(13, 'Escudo', 'Escudo defensivo portátil.', '+2 CA', 'Ninguna', 'No', '6 lb'),
(14, 'Armadura Natural', 'Protección natural de criaturas.', 'Variable', 'N/A', 'No', '0 lb');
